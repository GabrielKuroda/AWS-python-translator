<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Translator</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

        <link rel="shortcut icon" href="favicon.ico" width="5px" height="5px">
        <script src="mainJS.js"></script>
        <link rel="stylesheet" href="style.css">
    </head>

    <body onload="setup()">

        <nav class="navbar navbar-expand-sm bg-success navbar-dark" id="navbar">
            <div class="collapse navbar-collapse" id="collapsibleNavbar">
                <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
                    <il class="nav-item">
                        <a class="nav-link disabled"><h4>Home</h4></a>
                    </il>
                </ul>
                <form class="form-inline my-2 my-lg-0">

                    <div id="originPt">
                        <img src="img\brazil.png" height="45" width="50">
                    </div>

                    <div id="originJa">
                        <img src="img\japan.png" height="45" width="50">
                    </div>

                    <div id="originEn">
                        <img src="img\eua.png" height="45" width="50">
                    </div>

                    <div id="originEs">
                        <img src="img\spain.png" height="45" width="50">
                    </div>

                    <div class="dropdown show">
                        <a class="btn btn-success dropdown-toggle" href="#" role="button" id="dpTargetLanguage" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          Origin Language
                        </a>
                      
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                          <a class="dropdown-item" href="#" value="pt" onclick="showOriginLanguage('pt')"><img src="img\brazil.png" height="25" width="30"> Portuguese</a>
                          <a class="dropdown-item" href="#" value="ja" onclick="showOriginLanguage('ja')"><img src="img\japan.png" height="30" width="30"> Japanese</a>
                          <a class="dropdown-item" href="#" value="en" onclick="showOriginLanguage('en')"><img src="img\eua.png" height="25" width="30"> English</a>
                          <a class="dropdown-item" href="#" value="es" onclick="showOriginLanguage('es')"><img src="img\spain.png" height="25" width="30"> Spanish</a>
                        </div>
                    </div>
                </form>
            </div>
        </nav>

        <div class="container" style="margin-top:30px">

            <!--Page Home-->

            <div id="page_home" >
                <div class="row">
                    <div class="col-12">
                        <h1><center>Translator</center></h1>
                    </div>
                </div>

                <br>

                <form>
                    <center>
                        <h3>Insert an image:</h3>
                        <div class="custom-file">
                        <input type="file" class="custom-file-input" id="imgInp" accept="image/*">
                        <label class="custom-file-label" for="customFile">Choose file</label>
                        </div>
                        
                        <br>
                        <br>

                        <div id="imageDisplay" aria-hidden='true'>
                            <img id="blah" src="#" alt="your image" height="500" width="750"/>
                        </div>
                        
                        <br>
                        <br>
                    
                   
                        <div class="dropdown show">
                            <a class="btn btn-success dropdown-toggle" href="#" role="button" id="dropdownTargetLanguage" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Target Language
                            </a>
                        
                            <div class="dropdown-menu" aria-labelledby="dropdownTargetLanguage">
                                <a class="dropdown-item" href="#" onclick="showTargetLanguage('pt')"><img src="img\brazil.png" height="25" width="30"> Portuguese</a>
                                <a class="dropdown-item" href="#" onclick="showTargetLanguage('ja')"><img src="img\japan.png" height="30" width="30"> Japanese</a>
                                <a class="dropdown-item" href="#" onclick="showTargetLanguage('en')"><img src="img\eua.png" height="25" width="30"> English</a>
                                <a class="dropdown-item" href="#" onclick="showTargetLanguage('es')"><img src="img\spain.png" height="25" width="30"> Spanish</a>
                            </div>
                        </div>

                        <br>
                        <br>

                        <h2>Translate to</h2>

                        <div id="targetPt">
                            <img src="img\brazil.png" height="45" width="50">
                        </div>

                        <div id="targetPt">
                            <img src="img\brazil.png" height="45" width="50">
                        </div>
    
                        <div id="targetJa">
                            <img src="img\japan.png" height="45" width="50">
                        </div>
    
                        <div id="targetEn">
                            <img src="img\eua.png" height="45" width="50">
                        </div>
    
                        <div id="targetEs">
                            <img src="img\spain.png" height="45" width="50">
                        </div>

                        <div id="targetNone">
                            <br>
                            <h4>Select a language</h4>
                        </div>


                        <br>
                        <br>

                        <button id="btnSend" type="button" class="btn btn-success" onclick="refreshIframe();">Submit</button>
    
                        <br>
                        <br>
                        <div id="load">Carregado Resultado...</div>
            
                    </center>
                
                </form>
        
            </div>
            <div id="result_page">
                <center>
                
                <iframe id="result" name="Result" src="" allowTransparency="true" scrolling="no" frameborder="0" width="1100" height="750"></iframe>
                <button id="btnBack" type="button" class="btn btn-success" onclick="back();">Back</button>

                </center>
            </div>
        </div>

        <script>
            
            $(".custom-file-input").on("change", function() {
                var fileName = $(this).val().split("\\").pop();
                $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
                
            });
            
            imgInp.onchange = evt => {
                const [file] = imgInp.files
                if (file) {
                    blah.src = URL.createObjectURL(file)
                }
                document.getElementById("imageDisplay").style.display = "block";
            }
            
        </script>

    </body>

</html>